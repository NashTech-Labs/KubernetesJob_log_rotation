# Kubernetes Job: {{Your Job Name}}

## Overview

This Kubernetes Job, named "{{Your Job Name}}," is designed for log rotation purposes. It executes a containerized log rotation process, managing log files by compressing, archiving, and organizing them to prevent excessive disk space usage.

## Job Configuration

### Job Metadata
- **Name:** `{{Your Job Name}}`
- **Namespace:** `{{Your Namespace}}`

### Job Specification
- **Maximum Execution Time:** `300 seconds` (adjustable)
- **Retry Limit:** `4` (adjustable)

### Pod Template
- **Container Name:** `{{Your Container Name}}`
- **Container Image:** `{{Your Log Rotation Image Name}}` 
- (To create a log-rotation-image. Refered this URL: [log-rotation-Docker-image](https://github.com/NashTech-Labs/log-rotation-Docker-image))
- **Volume Mounts:**
  - `{{Your Volume Name One}}` mounted at `/path/to/log/directory`
  - `{{Your Volume Name Two}}` mounted at `/path/to/log/directory-2`
  - Add more volume mounts as needed
- **Restart Policy:** `OnFailure`
- **Image Pull Secrets:** `{{Your Image Pull Secret}}`
- **Volumes:**
  - `{{Your Volume Name One}}` backed by Persistent Volume Claim (`{{Your PVC Name One}}`)
  - `{{Your Volume Name Two}}` backed by Persistent Volume Claim (`{{Your PVC Name Two}}`)
  - Add more volumes as needed

## Log Rotation Image

To create the log rotation image (`{{Your Log Rotation Image Name}}`),
Chech this URL [log-rotation-Docker-image](https://github.com/NashTech-Labs/log-rotation-Docker-image)
1. Build or obtain a Docker image that includes the log rotation logic.
2. Push the image to a container registry accessible to your Kubernetes cluster.
3. Update the `{{Your Log Rotation Image Name}}` placeholder in the YAML configuration with the actual image name.

## Deployment

To deploy the {{Your Job Name}} Job, use the following command:

```bash
kubectl apply -f your-job.yaml
```
Ensure that your Kubernetes cluster is properly configured, and the necessary secrets, persistent volume claims (PVCs), and the log rotation image are available.
## Monitoring

Monitor the status of the Job using the following commands:

```bash
kubectl get job -n {{Your Namespace}}
kubectl describe job {{Your Job Name}} -n {{Your Namespace}}
```
## Troubleshooting
In case of issues, review the logs generated by the Job:
```bash
kubectl logs job/{{Your Job Name}} -n {{Your Namespace}}
```
## Cleanup
If needed, delete the {{Your Job Name}} Job using:
```bash
kubectl delete job {{Your Job Name}} -n {{Your Namespace}}
```
## Customization
Adjust parameters in the YAML file to customize the Job for your specific log rotation requirements.
